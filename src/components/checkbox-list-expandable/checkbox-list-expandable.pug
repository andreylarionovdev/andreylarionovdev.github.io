include ../checkbox/checkbox

mixin checkbox-list-expandable(options)
  - var { id, label, isExpanded, items = [] } = options || {}

  - var blockModifiers = []

  if isExpanded
    - blockModifiers.push('expanded')

  - var f = require('../../utils/functions')
  - var js = 'js'

  div(id=id class=f.bem({
    b: 'checkbox-list-expandable',
    m: blockModifiers,
    js
  }))
    h3(class=f.bem({
      b: 'checkbox-list-expandable',
      e: 'toggle', 
      js
    }))
      span.checkbox-list-expandable__label= label
      i.checkbox-list-expandable__arrow.material-icons= 'keyboard_arrow_down'
    ul.checkbox-list-expandable__list
      each item, index in items
        li.checkbox-list-expandable__li
          +checkbox({
            id: `${id}-${item.name}`,
            label: item.label,
            isChecked: item.isChecked
          })