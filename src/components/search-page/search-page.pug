include ../range-slider/range-slider
include ../label/label
include ../checkbox-list-expandable/checkbox-list-expandable
include ../room-thumbnail/room-thumbnail
include ../pagination/pagination
include ../dropdown/dropdown
include ../button/button

mixin search-page
  main.search-page
    .search-page__inner-wrapper
      section.search-page__filter
        .search-page__button-group.search-page__button-group_type_show-filter.js-search-page__button-group_type_show-filter
          +button({
            theme: 'white',
            caption: 'Фильтр',
            type: 'button',
            size: 'fluid',
          })
        form.search-page__form.js-search-page__form
          .search-page__date-dropdown
            .search-page__label
              +label({ label: 'Даты пребывания в отеле' })
            .search-page__dropdown
              +dropdown({
                name: 'field-dates',
                value: '19 авг. - 23 авг.'
              })
          .search-page__guests-dropdown
            .search-page__label
              +label({ label: 'Гости' })
            .search-page__dropdown
              +dropdown({
                name: 'field-guests',
                type: 'guests',
                placeholder: 'Сколько гостей',
                rows: [
                  {count: 2, text: 'взрослые'},
                  {count: 0, text: 'дети'},
                  {count: 1, text: 'младенцы'},
                ],
              })
          .search-page__range-slider
            +range-slider({
              label: 'Диапазон цены',
              name: 'price-slider',
              description: 'Стоимость за сутки пребывания в номере',
              min: 0,
              max: 16000,
              from: 5000,
              to: 10000,
            })
          fieldset.search-page__checkboxes
            legend.search-page__legend= 'checkbox buttons'
            p(class="search-page__checkbox")
              +checkbox({
                id: 'smoke-allowed-checkbox',
                name: 'smoke-allowed',
                label: 'Можно курить',
              })
            p.search-page__checkbox
              +checkbox({
                id: 'pets-allowed-checkbox',
                name: 'pets-allowed',
                label: 'Можно с питомцами',
                isChecked: true,
              })
            p.search-page__checkbox
              +checkbox({
                id: 'guests-allowed-checkbox',
                name: 'guests-allowed',
                label: 'Можно пригласить гостей (до 10 человек)',
                isChecked: true,
              })
          - const theme = 'rich';
          fieldset.search-page__checkboxes.search-page__checkboxes_theme_rich
            legend.search-page__legend= 'Доступность'
            p.search-page__checkbox
              +checkbox({
                id: 'wide-hall-checkbox',
                name: 'wide-hall',
                label: 'Широкий коридор',
                hint: 'Ширина коридоров в номере не&nbsp;менее 91 см.',
                theme: 'rich',
              })
            p.search-page__checkbox
              +checkbox({
                id: 'assistant',
                label: 'Помощник для инвалидов',
                hint: 'На 1 этаже вас встретит специалист и проводит до номера.',
                theme: 'rich',
              })
          .search-page__feature-dropdown
            .search-page__label
              +label({ label: 'Удобства номера' })
            .search-page__dropdown
              +dropdown({
                name: 'field-rooms',
                type: 'rooms',
                placeholder: 'Удобства',
                rows: [
                  {count: 2, text: 'спальни'},
                  {count: 2, text: 'кровати'},
                  {count: 0, text: 'ванные комнаты'},
                ],
              })
          .search-page__checkbox-list-expandable
            +checkbox-list-expandable({
              label: 'Дополнительные удобства',
              items: [
                {id: 'breakfast-checkbox', label: 'Завтрак'},
                {id: 'table-checkbox', label: 'Письменный стол', isChecked: true},
                {id: 'baby-chair-for-eat-checkbox', label: 'Стул для кормления', isChecked: true},
                {id: 'baby-bed-checkbox', label: 'Кроватка', isChecked: true},
                {id: 'tv-checkbox', label: 'Телевизор'},
                {id: 'shampoo-checkbox', label: 'Шампунь'},
              ],
            })
          .search-page__form-footer.js-search-page__form-footer
            .search-page__button-group.search-page__button-group_type_clear.js-search-page__button-group_type_clear
              +button({
                theme: 'white',
                caption: 'Сбросить',
                type: 'reset',
                size: 'fluid',
              })
            .search-page__button-group.search-page__button-group_type_apply.js-search-page__button-group_type_apply
              +button({
                theme: 'default',
                caption: 'Применить',
                type: 'submit',
                size: 'fluid',
              })
      section.search-page__search-result.js-search-page__search-result
        h1.search-page__title= 'Номера, которые мы для вас подобрали'
        ul.search-page__thumbnail-list
          -
            const searchResult = [
              {
                number: 888,
                href: 'room-details.html',
                pricePerDay: 9990,
                feedbackCounter: 145,
                rate: 5,
                images: new Array(4).fill({
                  alt: 'Room 888',
                  src: './img/room-thumb-1.png'
                }),
                feature: 'люкс',
              },
              {
                number: 840,
                pricePerDay: 9900,
                feedbackCounter: 65,
                rate: 4,
                images: new Array(4).fill({
                  alt: 'Room 840',
                  src: './img/room-thumb-2.png',
                }),
              },
              {
                number: 980,
                pricePerDay: 8500,
                feedbackCounter: 35,
                rate: 3,
                images: new Array(4).fill({
                  alt: 'Room 980',
                  src: './img/room-thumb-3.png',
                }),
                feature: 'люкс',
              },
              {
                number: 856,
                pricePerDay: 7300,
                feedbackCounter: 19,
                rate: 5,
                images: new Array(4).fill({
                  alt: 'Room 856',
                  src: './img/room-thumb-4.png',
                }),
              },
              {
                number: 740,
                pricePerDay: 6000,
                feedbackCounter: 44,
                rate: 4,
                images: new Array(4).fill({
                  alt: 'Room 740',
                  src: './img/room-thumb-5.png',
                }),
              },
              {
                number: 982,
                pricePerDay: 5800,
                feedbackCounter: 56,
                rate: 3,
                images: new Array(4).fill({
                  alt: 'Room 982',
                  src: './img/room-thumb-6.png',
                }),
              },
              {
                number: 678,
                pricePerDay: 5500,
                feedbackCounter: 45,
                rate: 5,
                images: new Array(4).fill({
                  alt: 'Room 678',
                  src: './img/room-thumb-7.png',
                }),
              },
              {
                number: 450,
                pricePerDay: 5300,
                feedbackCounter: 39,
                rate: 4,
                images: new Array(4).fill({
                  alt: 'Room 450',
                  src: './img/room-thumb-8.png',
                }),
              },
              {
                number: 350,
                pricePerDay: 5000,
                feedbackCounter: 77,
                rate: 3,
                images: new Array(4).fill({
                  alt: 'Room 350',
                  src: './img/room-thumb-9.png',
                }),
              },
              {
                number: 666,
                pricePerDay: 5000,
                feedbackCounter: 25,
                rate: 5,
                images: new Array(4).fill({
                  alt: 'Room 666',
                  src: './img/room-thumb-10.png',
                }),
              },
              {
                number: 444,
                pricePerDay: 5000,
                feedbackCounter: 15,
                rate: 3,
                images: new Array(4).fill({
                  alt: 'Room 444',
                  src: './img/room-thumb-11.png',
                }),
              },
              {
                number: 352,
                pricePerDay: 5000,
                feedbackCounter: 55,
                rate: 3,
                images: new Array(4).fill({
                  alt: 'Room 352',
                  src: './img/room-thumb-12.png',
                }),
              }
            ]
          each room, i in searchResult
            li.search-page__thumbnail-list-item
              +room-thumbnail({
                roomNumber: room.number,
                pricePerDay: room.pricePerDay,
                feedbackCounter: room.feedbackCounter,
                rate: room.rate,
                images: room.images,
                feature: room.feature,
                href: room.href || '/change-me',
              })
        section.search-page__pagination
          +pagination({
            source: JSON.stringify([...Array(180).keys()]),
            pageSize: 12,
            pageRange: 1,
          })