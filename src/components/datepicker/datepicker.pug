include ../label/label
include ../dropdown/dropdown

mixin datepicker(options)
  -
    const {
      theme,
      placeholder = 'дд.мм.гггг',
      fromLabel = 'Прибытие',
      from = '',
      toLabel = 'Выезд',
      to = '',
    } = options || {}

    const createBemClasses = require('../../utils/helpers').createBemClasses;
    const blockName = 'datepicker';
    const jsPrefix = 'js';

    const jsClassTheme = theme ? `${jsPrefix}-${blockName}_theme_${theme}` : '';

  div(class=createBemClasses({ blockName, modifiers: [{ theme }], jsPrefix }) class=jsClassTheme)
    div(class=createBemClasses({ blockName, elementName: 'group', jsPrefix }))
      div(class=createBemClasses({ blockName, elementName: 'item', jsPrefix }))
        .datepicker__label
          +label({ label: fromLabel })
        div(class=createBemClasses({ blockName, elementName: 'dropdown', jsPrefix }))
          +dropdown({
            name: 'field-date-from',
            value: from,
            type: 'date',
            placeholder,
          })
      div(class=createBemClasses({ blockName, elementName: 'item', jsPrefix }))
        .datepicker__label
          +label({ label: toLabel })
        div(class=createBemClasses({ blockName, elementName: 'dropdown', jsPrefix }))
          +dropdown({
            name: 'field-date-to',
            value: to,
            type: 'date',
            placeholder,
          })
    div(class=createBemClasses({ blockName, elementName: 'datepicker-container', jsPrefix }))